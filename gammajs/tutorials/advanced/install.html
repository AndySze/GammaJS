
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Developing with Gamma &mdash; Gamma v1.0 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Gamma v1.0 documentation" href="../index.html" />
    <link rel="up" title="Advanced Topics" href="index.html" />
    <link rel="next" title="Architecture" href="architecture.html" />
    <link rel="prev" title="Advanced Topics" href="index.html" /> 
  </head>
  <body>
    <div id="header">
        <div class="inner">
            <p id="site_title">
                <a href="/">GammaJS: A WebGL platformer game engine</a>
            </p>
            <ul class="menu">
                <li><a href="../index.html">Overview</a></li>
            
                <li><a href="../intro/tutorials.html">Tutorial</a></li>
            
                <li><a href="../topics/index.html"class="selected">Topics</a></li>
            
                <li><a href="../api/docs/gma.html">API</a></li>
            
                <li><a href="http://example.gammajs.org">Examples/Tests</a></li>
            
                <li><a href="../intro/install.html">Download</a></li>
            
                <li>
    <form class="search" id="searchbox" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <script type="text/javascript">$('#searchbox').show(0);</script>
                </li>
            </ul>
        </div>
    </div>
  

    <div class="document">
    <div class="documentwrapper">
      <div class="bodywrapper">
        <div class="body">
          
  <div class="section" id="s-developing-with-gamma">
<span id="s-advancedinstall"></span><span id="developing-with-gamma"></span><span id="advancedinstall"></span><h1>Developing with Gamma<a class="headerlink" href="#developing-with-gamma" title="Permalink to this headline">¶</a></h1>
<p>Gamma is a modular library that is split into many files. Whilst you can use a combined and <a class="reference internal" href="../glossary.html#term-minified"><em class="xref std std-term">minified</em></a> version of the library, as shown in the <a class="reference internal" href="../intro/install.html#install"><em>getting started section</em></a>, it&#8217;s a lot easier to develop and debug your game if you can view the full source code. This allows you to see the code where errors originate from and set breakpoints in the Gamma library.</p>
<p>To make the process even easier, you can also <a class="reference internal" href="#devserver"><em>use the development server</em></a> found in the support directory of the repository. However, for just executing your game, you can just create a html file as explained below. Either method still requires a copy of the source code, which can be gotten by running <tt class="docutils literal"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">git://github.com/Royce/GammaJS.git</span></tt>.</p>
<p>To make your own html boilerplate files :</p>
<ul>
<li><p class="first">Follow the <a class="reference internal" href="../intro/install.html#install"><em>getting started section</em></a>.</p>
</li>
<li><p class="first">Download <a class="reference internal" href="architecture.html#requirejsns"><em>RequireJS</em></a> from <a class="reference external" href="http://requirejs.org/docs/release/0.2.1/minified/require-jquery-1.4.4.js">here</a></p>
</li>
<li><p class="first">Get the <tt class="docutils literal"><span class="pre">libs.js</span></tt> from the <tt class="docutils literal"><span class="pre">support/lib/compiled</span></tt> directory.</p>
</li>
<li><p class="first">Inside <tt class="docutils literal"><span class="pre">game.html</span></tt>, replace the <tt class="docutils literal"><span class="pre">head</span></tt> element with the following:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;head&gt;</span>

    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>My Awesome Game<span class="nt">&lt;/title&gt;</span>

    <span class="c">&lt;!-- Include any style sheets here --&gt;</span>

    <span class="c">&lt;!-- Tell requirejs where to find your code --&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
        <span class="kd">var</span> <span class="nx">require</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">baseUrl</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="nx">waitSeconds</span><span class="o">:</span> <span class="mi">15</span>
        <span class="p">};</span>
    <span class="nt">&lt;/script&gt;</span>

    <span class="c">&lt;!-- Include the necessary libraries --&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;require.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;libs.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;/head&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">Change baseUrl to point to the folder that contains the <tt class="docutils literal"><span class="pre">gma</span></tt> folder. So if you have the following folder structure, then baseUrl would be &quot;GammaJS&quot;.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">game</span><span class="p">.</span><span class="nx">html</span>
<span class="nx">game</span><span class="p">.</span><span class="nx">js</span>
<span class="nx">require</span><span class="p">.</span><span class="nx">js</span>
<span class="nx">libs</span><span class="p">.</span><span class="nx">js</span>
<span class="nx">GammaJS</span><span class="o">/</span>
    <span class="nx">gma</span><span class="o">/</span>
    <span class="nx">support</span><span class="o">/</span>
    <span class="nx">docs</span><span class="o">/</span>
    <span class="nx">examples</span><span class="o">/</span>
    <span class="nx">media</span><span class="o">/</span>
</pre></div>
</div>
</li>
<li><p class="first">That's it!</p>
</li>
</ul>
</div>
<div class="section" id="s-running-the-tests">
<span id="running-the-tests"></span><h1>Running the Tests<a class="headerlink" href="#running-the-tests" title="Permalink to this headline">¶</a></h1>
<p>To Run the tests, you must first preprocess them to convert them from the JSpec dsl to normal javascript. For this to then work with RequireJS, we need to fetch the tests, run the JSpec preprocessor over them and change the usage of require to define a dependency name (we're lazy and don't think we should have to define the dependency for each tests manually). Unfortunately this means XMLHttpRequest errors unless everything is served using HTTP.</p>
<p>In turn, this means you need the development server to be able to run the tests. However, once you have it setup, running the tests is literally as simple as clicking a link.</p>
</div>
<div class="section" id="s-running-the-development-server">
<span id="s-devserver"></span><span id="running-the-development-server"></span><span id="devserver"></span><h1>Running the Development server<a class="headerlink" href="#running-the-development-server" title="Permalink to this headline">¶</a></h1>
<p>Different parts of the development server require some environment variables to be set that point to where you have different parts of the code. If you keep the same structure as found in the repository, then the following environment variables should work.</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">GMA</span> <span class="o">=</span> /path/to/GammaJS
<span class="nv">GMA_SRC</span> <span class="o">=</span> <span class="nv">$GMA</span>/gma
<span class="nv">GMA_SUPPORT</span> <span class="o">=</span> <span class="nv">$GMA</span>/support
<span class="nv">GMA_MEDIA</span> <span class="o">=</span> <span class="nv">$GMA</span>/media
</pre></div>
</div>
<dl class="docutils">
<dt>To be able to run tests and examples:</dt>
<dd><ul class="first last simple">
<li>Install python-setuptools</li>
<li>Use setuptools and do <tt class="docutils literal"><span class="pre">easy_install</span> <span class="pre">werkzeug</span> <span class="pre">paste</span> <span class="pre">django</span></tt></li>
<li>Execute <tt class="docutils literal"><span class="pre">run.sh</span></tt> found in the support folder and go to <tt class="docutils literal"><span class="pre">http://localhost:8000</span></tt> in your webgl enabled web browser.</li>
</ul>
</dd>
<dt>To be able to run js-coverage (linux and mac only):</dt>
<dd><ul class="first last simple">
<li>install autoconf and g++</li>
<li><tt class="docutils literal"><span class="pre">svn</span> <span class="pre">co</span> <span class="pre">http://svn.siliconforks.com/jscoverage/trunk</span> <span class="pre">jscoverage</span></tt></li>
<li><tt class="docutils literal"><span class="pre">cd</span> <span class="pre">jscoverage</span></tt></li>
<li><tt class="docutils literal"><span class="pre">./bootstrap.sh</span></tt></li>
<li><tt class="docutils literal"><span class="pre">make</span></tt></li>
<li><tt class="docutils literal"><span class="pre">make</span> <span class="pre">install</span></tt></li>
<li>Execute <tt class="docutils literal"><span class="pre">coverage.sh</span></tt> inside the support directory</li>
<li>Go to the development server and either click the <tt class="docutils literal"><span class="pre">coverage</span></tt> link next to the test you want to get coverage data from. Or click the <tt class="docutils literal"><span class="pre">Coverage</span></tt> button at the top of the page and choose your desired test from the drop down list.</li>
</ul>
</dd>
<dt>To be able to make the documentation:</dt>
<dd><ul class="first last simple">
<li><tt class="docutils literal"><span class="pre">easy_install</span> <span class="pre">sphinx</span></tt></li>
<li>Go into the docs directory and run <tt class="docutils literal"><span class="pre">make</span> <span class="pre">html</span></tt></li>
</ul>
</dd>
<dt>To build a minified, single file version of Gamma:</dt>
<dd><ul class="first last simple">
<li>Install Java</li>
<li>Unzip the <a class="reference external" href="http://requirejs.org/docs/release/0.14.2/requirejs-0.14.2.zip">RequireJS Optimisation tool</a> somewhere</li>
<li>Create an environment variable called <tt class="docutils literal"><span class="pre">REQUIRE</span></tt> that points to where you unzipped the optimisation tool</li>
<li>Run <tt class="docutils literal"><span class="pre">python</span> <span class="pre">build.py</span></tt> inside the support directory</li>
<li>The result can be found in $GMA_SUPPORT/lib/compiled</li>
</ul>
</dd>
</dl>
<p>For an explanation of how it all works and general notes about the code, read the readme files that exist inside the support folder.</p>
</div>


        </div>
      </div>
    <div class="sphinxsidebar">
          <h3>Table Of Contents</h3>
          <ul>
<li><a class="reference internal" href="#">Developing with Gamma</a></li>
<li><a class="reference internal" href="#running-the-tests">Running the Tests</a></li>
<li><a class="reference internal" href="#running-the-development-server">Running the Development server</a></li>
</ul>

    </div>
    </div>
    <!-- GitHub Ribbon -->
    <a href="http://github.com/Royce/GammaJS"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://assets1.github.com/img/71eeaab9d563c2b3c590319b398dd35683265e85?repo=&url=http%3A%2F%2Fs3.amazonaws.com%2Fgithub%2Fribbons%2Fforkme_right_gray_6d6d6d.png&path=" alt="Fork me on GitHub"></a>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      <p>
            &copy; Copyright Stephen Moore, Royce Townsend and James Campbell.
          GammaJS is released under the
          <a href="http://www.opensource.org/licenses/mit-license.php">MIT license</a>.
      </p>
      <p>
            Last updated on Jan 02, 2011.
            Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.3.
      </p>
    </div>
  </body>
</html>